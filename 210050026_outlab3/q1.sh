#!/bin/bash

# Run the script as : ./q1.sh emails.txt

sed -n -E -e '/^[a-z0-9A-Z_\!%\+\#\&\$=\?\^~`\/\-]+[\.]?[a-z0-9A-Z_\!%\+\#\&\$=\?\^~`\/\-]+[@]{1}[a-z]+[\.]{1}[a-z]+$/p' -e '/^[a-z0-9A-Z_\!%\+\#\&\$=\?\^~`\/\-]+[\.]?[a-z0-9A-Z_\!%\+\#\&\$=\?\^~`\/\-]+[@]{1}[a-z]+[\.]{1}[a-z]+[\.]{1}[a-z]+$/p' < $1 > valid.txt



